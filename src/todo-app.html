<link rel="import" href="../bower_components/polymer/polymer.html">
<link rel="import" href="../bower_components/app-layout/app-layout.html">
<link rel="import" href="../bower_components/paper-icon-button/paper-icon-button.html">
<link rel="import" href="../bower_components/iron-icon/iron-icon.html">
<link rel="import" href="../bower_components/iron-icons/iron-icons.html">
<link rel="import" href="../bower_components/polymer/lib/elements/dom-repeat.html">

<link rel="import" href="../bower_components/paper-input/paper-input.html">
<link rel="import" href="../bower_components/paper-input/paper-input.html">
<link rel="import" href="../bower_components/paper-button/paper-button.html">
<link rel="import" href="todo-item.html">

<dom-module id="todo-app">
    <template>
      <style>
        .input{
          display: flex;
        }
        .input paper-input{
          flex: 1;
        }
        .input paper-button{ 
          flex: 0 0 auto;
        }
      </style>
      

    <app-toolbar class="toolbar">
        <paper-icon-button icon="menu"></paper-icon-button>
        <div main-title>Todo</div>
        <paper-icon-button icon="search" ></paper-icon-button>
      </app-toolbar>
      <div class="input">
      <paper-input id="todo" value="{{todo.task}}" ></paper-input>
      <paper-button raised on-tap="addTask">Add Task</paper-button>
      </div>
      <template id="template" is="dom-repeat" items="[[todos]]" as="todo">
    <todo-item t-name="[[todo]]"></todo-item>
      </template>          

    </template>
    <script>
      class TodoApp extends Polymer.Element{
        static get is(){
          return "todo-app";
        }
        static get properties(){
          return {
            todo:{
              type: Object,
              value: function(){
                return {};
              }
            },
            todos:{
              type: Array,
              value: function(){
                return [];
              }
            }
          }
        }
        constructor(){
          
          super();
          var p = Polymer.dom(this).querySelector("LI");
          console.log(this);

        }
        
       addTask() {
         if(this.todo.task == null ){
          alert("HAha, Task with NO name");
         }
         else{
          this.push('todos',this.todo);
         }
         this.todo={};
      
        
      
      customElements.define(TodoApp.is,TodoApp);
    </script>
  </dom-module>
